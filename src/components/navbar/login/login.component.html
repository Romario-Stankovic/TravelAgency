<mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>

<mat-tab-group [selectedIndex]="data.selectedTab" dynamicHeight="true">
    <mat-tab label="Login">
        <form [formGroup]="loginForm" (ngSubmit)="login();">
            <mat-form-field>
                <mat-label>E-Mail:</mat-label>
                <input matInput type="email" formControlName="email">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Password:</mat-label>
                <input matInput [type]="showLoginPassword ? 'text' : 'password' " formControlName="password">
                <button tabindex="-1" mat-icon-button matSuffix
                    (click)="showLoginPassword = !showLoginPassword; $event.preventDefault();">
                    <mat-icon>{{showLoginPassword? 'visibility' : 'visibility_off'}}</mat-icon>
                </button>
            </mat-form-field>
            <br>
            <button mat-raised-button color="primary">Login</button>
        </form>
    </mat-tab>
    <mat-tab label="Register">
        <form [formGroup]="registerForm" (ngSubmit)="register();">
            <mat-form-field>
                <mat-label>Name:</mat-label>
                <input matInput type="text" formControlName="name">
                <mat-error>Name must be at least 1 character long</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Last name:</mat-label>
                <input matInput type="text" formControlName="lastName">
                <mat-error>Last name must be at least 1 character long</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>E-Mail:</mat-label>
                <input matInput type="email" formControlName="email">
                <mat-error>Email must be valid</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Password:</mat-label>
                <input matInput [type]="showRegisterPassword ? 'text' : 'password' " formControlName="password">
                <button tabindex="-1" mat-icon-button matSuffix
                    (click)="showRegisterPassword = !showRegisterPassword; $event.preventDefault();">
                    <mat-icon>{{showRegisterPassword? 'visibility' : 'visibility_off'}}</mat-icon>
                </button>
                <mat-error>Passwords must be at least 8 characters long</mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Repeat password:</mat-label>
                <input matInput type="password" formControlName="confirmPassword">
                <mat-error>Passwords do not match</mat-error>
            </mat-form-field>

            <br>
            <button mat-raised-button color="primary">Register</button>
        </form>
    </mat-tab>
</mat-tab-group>